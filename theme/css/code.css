/* code style */
.normal { margin-right: 2pt; }
.highlight {
    /* Add horizontal scrolling */
    overflow-x: auto;
    /* Optional: hide scrollbar until needed */
    scrollbar-width: thin;
    
    /* Ensure the block doesn't overflow */
    max-width: 100%;
    
    /* Add some padding for better readability */
    padding: 1rem;
    
    /* Optional: add a subtle border */

    background-color: var(--usgraphics-code-bg);
    color: var(--usgraphics-code-fg);

    font-family: 'Berkeley Mono', monospace !important;
}

.highlight pre {
    /* Reduce font size */
    font-size: 0.8rem;
    
    /* Ensure proper line height */
    line-height: 1.4;
    
    /* Remove any margin that might cause double scrolling */
    margin: 0;
}

/* Optional: Style the scrollbar for webkit browsers */
.highlight::-webkit-scrollbar {
    height: 8px;
}

.highlight::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.highlight::-webkit-scrollbar-thumb {
    background: #888;
}

/* US Graphics code color variables */
:root {
    /* Light theme defaults */
    --usgraphics-code-black: var(--usgraphics-black);
    --usgraphics-code-blue: var(--usgraphics-blue);
    --usgraphics-code-red: var(--usgraphics-red);
    --usgraphics-code-green: var(--usgraphics-green);
    --usgraphics-code-yellow: var(--usgraphics-yellow);
    --usgraphics-code-magenta: var(--usgraphics-magenta);
    --usgraphics-code-cyan: var(--usgraphics-cyan);
    --usgraphics-code-white: var(--usgraphics-white);
    --usgraphics-code-bright-black: var(--usgraphics-gray-dark);
    --usgraphics-code-bright-red: var(--usgraphics-red-light);
    --usgraphics-code-bright-green: var(--usgraphics-green-light);
    --usgraphics-code-bright-yellow: var(--usgraphics-yellow-light);
    --usgraphics-code-bright-blue: var(--usgraphics-blue-light);
    --usgraphics-code-bright-magenta: var(--usgraphics-magenta-light);
    --usgraphics-code-bright-cyan: var(--usgraphics-cyan-light);
    --usgraphics-code-bright-white: var(--usgraphics-white);

    --usgraphics-code-bg: var(--usgraphics-light-bg);
    --usgraphics-code-fg: var(--usgraphics-light-text);
    --usgraphics-code-selection: var(--usgraphics-light-selection);
}

/* Use the same attribute that will control site-wide dark mode */
:root[data-theme="dark"] {
    --usgraphics-code-black: var(--usgraphics-black);
    --usgraphics-code-blue: var(--usgraphics-blue-light);
    --usgraphics-code-red: var(--usgraphics-red-light);
    --usgraphics-code-green: var(--usgraphics-green-light);
    --usgraphics-code-yellow: var(--usgraphics-yellow-light);
    --usgraphics-code-magenta: var(--usgraphics-magenta-light);
    --usgraphics-code-cyan: var(--usgraphics-cyan-light);
    --usgraphics-code-white: var(--usgraphics-white);
    --usgraphics-code-bright-black: var(--usgraphics-gray);
    --usgraphics-code-bright-red: var(--usgraphics-red);
    --usgraphics-code-bright-green: var(--usgraphics-green);
    --usgraphics-code-bright-yellow: var(--usgraphics-yellow);
    --usgraphics-code-bright-blue: var(--usgraphics-blue);
    --usgraphics-code-bright-magenta: var(--usgraphics-magenta);
    --usgraphics-code-bright-cyan: var(--usgraphics-cyan);
    --usgraphics-code-bright-white: var(--usgraphics-white);
    --usgraphics-code-bg: var(--usgraphics-dark-bg);
    --usgraphics-code-fg: var(--usgraphics-dark-text);
    --usgraphics-code-selection: var(--usgraphics-dark-selection);
}

/* For system preference based dark mode (optional) */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) {
        --usgraphics-code-black: var(--usgraphics-black);
        --usgraphics-code-blue: var(--usgraphics-blue-light);
        --usgraphics-code-red: var(--usgraphics-red-light);
        --usgraphics-code-green: var(--usgraphics-green-light);
        --usgraphics-code-yellow: var(--usgraphics-yellow-light);
        --usgraphics-code-magenta: var(--usgraphics-magenta-light);
        --usgraphics-code-cyan: var(--usgraphics-cyan-light);
        --usgraphics-code-white: var(--usgraphics-white);
        --usgraphics-code-bright-black: var(--usgraphics-gray);
        --usgraphics-code-bright-red: var(--usgraphics-red);
        --usgraphics-code-bright-green: var(--usgraphics-green);
        --usgraphics-code-bright-yellow: var(--usgraphics-yellow);
        --usgraphics-code-bright-blue: var(--usgraphics-blue);
        --usgraphics-code-bright-magenta: var(--usgraphics-magenta);
        --usgraphics-code-bright-cyan: var(--usgraphics-cyan);
        --usgraphics-code-bright-white: var(--usgraphics-white);
        --usgraphics-code-bg: var(--usgraphics-dark-bg);
        --usgraphics-code-fg: var(--usgraphics-dark-text);
        --usgraphics-code-selection: var(--usgraphics-dark-selection);
    }
}

/* Comments */
.c, .cm, .c1 { color: var(--usgraphics-code-bright-black); font-style: italic } /* Comment */
.cp, .cs { color: var(--usgraphics-code-bright-black); font-weight: bold; font-style: italic } /* Comment.Preproc, Special */

/* Keywords */
.k, .kc, .kd, .kn, .kp, .kr { color: var(--usgraphics-code-red); font-weight: bold } /* Keywords (class, def, etc) */
.kt { color: var(--usgraphics-code-blue); font-weight: bold } /* Keyword.Type */

/* Strings */
.s, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .s1 { color: var(--usgraphics-code-green) } /* String */
.sr { color: var(--usgraphics-code-cyan) } /* Regex */
.ss { color: var(--usgraphics-code-magenta) } /* Symbol */

/* Names */
.na { color: var(--usgraphics-code-yellow) } /* Name.Attribute */
.nb { color: var(--usgraphics-code-bright-blue) } /* Name.Builtin */
.nc { color: var(--usgraphics-code-bright-yellow); font-weight: bold } /* Name.Class */
.no { color: var(--usgraphics-code-yellow) } /* Name.Constant */
.nd { color: var(--usgraphics-code-bright-cyan); font-weight: bold } /* Name.Decorator */
.ni { color: var(--usgraphics-code-magenta) } /* Name.Entity */
.ne { color: var(--usgraphics-code-red); font-weight: bold } /* Name.Exception */
.nf { color: var(--usgraphics-code-blue); font-weight: bold } /* Name.Function */
.nl { color: var(--usgraphics-code-bright-magenta); font-weight: bold } /* Name.Label */
.nn { color: var(--usgraphics-code-bright-yellow) } /* Name.Namespace */
.nt { color: var(--usgraphics-code-red) } /* Name.Tag */
.nv { color: var(--usgraphics-code-bright-red) } /* Name.Variable */
.vc, .vg, .vi { color: var(--usgraphics-code-bright-red) } /* Variable (class, global, instance) */

/* Operators */
.o, .ow { color: var(--usgraphics-code-bright-white); font-weight: bold } /* Operator */

/* Numbers */
.m, .mf, .mh, .mi, .mo, .il { color: var(--usgraphics-code-yellow) } /* Numbers */

/* Generic */
.gd { color: var(--usgraphics-code-red); background-color: var(--usgraphics-code-selection) } /* Deleted */
.gi { color: var(--usgraphics-code-green); background-color: var(--usgraphics-code-selection) } /* Inserted */
.gr { color: var(--usgraphics-code-red) } /* Error */
.gh { color: var(--usgraphics-code-bright-black) } /* Heading */
.go { color: var(--usgraphics-code-bright-black) } /* Output */
.gp { color: var(--usgraphics-code-bright-black) } /* Prompt */
.gs { font-weight: bold } /* Strong */
.gu { color: var(--usgraphics-code-bright-black) } /* Subheading */
.gt { color: var(--usgraphics-code-red) } /* Traceback */

/* Error */
.err { color: var(--usgraphics-code-red); background-color: var(--usgraphics-code-selection) } /* Error */

/* Special cases */
.bp { color: var(--usgraphics-code-magenta) } /* Name.Builtin.Pseudo (self) */

/* Responsive: Portrait tablets and up */

td.code {
    min-width: 800px;
}

div.blogcontent {
    font-size: 105%;
}

/* Update blog content spacing */
div.blogcontent h1, 
div.blogcontent h2, 
div.blogcontent h3, 
div.blogcontent h4, 
div.blogcontent h5, 
div.blogcontent h6 {
    margin: 0 0 1.52rem 0;  /* Remove top margin */
}

div.blogcontent p, 
div.blogcontent li {
    margin: 0 0 1.5rem 0;  /* Remove top margin */
    line-height: 1.6;
}

/* Last paragraph in a section shouldn't have bottom margin */
div.blogcontent p:last-child {
    margin-bottom: 0;
}

div.blogcontent a {
    font-weight: bold;
}

code {
    font-family: 'Berkeley Mono', monospace !important;
}